
@{
    ViewBag.Title = "Hàng hóa - Index";
}
<section class="py-5">
    @{
        WebGrid grid = null;
        string errMsg = null;
        try
        {
            grid = new WebGrid(source: Model, rowsPerPage:10, ajaxUpdateContainerId: "ContainerUpdate");
        }
        catch(Exception ex)
        {
            errMsg = ($"lỗi {ex.ToString()}");
        }
    }
    <div class="row">
        <div class="col-lg-12 mb-4">
            <div class="card">
                <div class="card-header">
                    <h6 class="text-uppercase mb-0">Danh Sách hàng hóa </h6>
                </div>
                <div class="card-body table-responsive table-hover" id="ContainerUpdate">
                    @if (grid != null)
                    {
                        string PhotoPath = Url.Content("~/img");
                        @grid.GetHtml(
                                tableStyle: "table card-text",
                                headerStyle: "thead-light",
                                footerStyle: "thead-light",
                                selectedRowStyle: "table-active",
                                htmlAttributes: new { id = "44" },
                                mode: WebGridPagerModes.All,
                                firstText: "Trang đầu",
                                lastText: "Trang cuối",
                                columns: grid.Columns(
                                grid.Column("TenHangHoa", header: "Tên hàng Hóa"),
                                grid.Column("ConHang", header: "Tình trạng", format: item => item.ConHang == true ? Html.Raw($"<div class=''>Còn hàng</div>") : Html.Raw($"<div class='text-danger'>Hết hàng</div>")),
                                grid.Column("GiaBan", header: "Giá bán", format: item => item.GiaBan.ToString("#,##0")),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("GiaBan", header: "Giá bán"),
                                grid.Column("ChungLoai.TenChungLoai", header: "Chủng loại", format: (item) => item.ChungLoai?.TenChungLoai.ToString() ),
                                grid.Column("Image_Header", header: "Hình chi tiếts",format: item => Html.Raw($"<img src='{PhotoPath}/{item.Image_Header}' style='height: 50px ; width: 50px'/>")),
                                grid.Column(format: item => Html.ActionLink(linkText: "Imager_Detail", actionName: "Upload", controllerName: "HangHoas", routeValues: new { id = item.IDHangHoa }, htmlAttributes: null)),
                                grid.Column(format: item => Html.ActionLink(linkText: "Chi Tiết", actionName: "Details", controllerName: "HangHoas", routeValues: new { id = item.IDHangHoa }, htmlAttributes: null)),
                                grid.Column(format: item => Html.ActionLink(linkText: "Sửa", actionName: "Edit", controllerName: "HangHoas", routeValues: new { id = item.IDHangHoa }, htmlAttributes: null)),
                                grid.Column(format: item => Html.ActionLink(linkText: "Xóa", actionName: "Delete", controllerName: "HangHoas", routeValues: new { id = item.IDHangHoa }, htmlAttributes: null))

                                )
                            )
                    }

                </div>
            </div>
        </div>
    </div>
</section>
<div class="text-danger"></div>